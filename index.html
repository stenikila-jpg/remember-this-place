lumen-noir/
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CosmicBackground.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MagicalInput.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RitualCircle.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StainedGlassGallery.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GothicButton.tsx
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Observatory.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AltarSettings.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HallOfVisions.tsx
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gothicTheme.css
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ animations.ts
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx

{
  "name": "lumen-noir",
  "version": "1.0.0",
  "type": "module",
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@telegram-apps/sdk": "^1.0.0",
    "framer-motion": "^10.16.0",
    "three": "^0.160.0",
    "@react-three/fiber": "^8.15.0",
    "@react-three/drei": "^9.103.0",
    "lucide-react": "^0.309.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "vite": "^5.0.0",
    "typescript": "^5.2.0"
  }
import { useRef } from 'react';
import { Canvas, useFrame } from '@react-three/fiber';
import { Points, PointMaterial } from '@react-three/drei';
import * as random from 'maath/random';

function StarField() {
  const ref = useRef<any>();
  
  const sphere = random.inSphere(new Float32Array(5000), { radius: 1.5 });
  
  useFrame((state, delta) => {
    if (ref.current) {
      ref.current.rotation.x -= delta / 10;
      ref.current.rotation.y -= delta / 15;
    }
  });

  return (
    <group rotation={[0, 0, Math.PI / 4]}>
      <Points ref={ref} positions={sphere} stride={3} frustumCulled={false}>
        <PointMaterial
          transparent
          color="#89CFF0"
          size={0.002}
          sizeAttenuation={true}
          depthWrite={false}
          opacity={0.4}
        />
      </Points>
    </group>
  );
}

export default function CosmicBackground() {
  return (
    <div className="cosmic-background">
      <Canvas camera={{ position: [0, 0, 1] }}>
        <StarField />
      </Canvas>
      <div className="gothic-ornament-overlay"></div>
    </div>
  );
}
    import { useState } from 'react';
import { motion } from 'framer-motion';
import { Scroll, Sparkles } from 'lucide-react';

const STYLE_KEYWORDS = [
  '–≤–∏—Ç—Ä–∞–∂–Ω—ã–π —Å–≤–µ—Ç',
  '–∑–≤—ë–∑–¥–Ω–∞—è –ø—ã–ª—å',
  '–≥–æ—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞',
  '–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ç—É–º–∞–Ω',
  '–∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —Å–æ–±–æ—Ä',
  '–¥—Ä–µ–≤–Ω–∏–µ —Ä—É–Ω—ã',
  '–Ω–µ–±–µ—Å–Ω—ã–µ —Å—Ñ–µ—Ä—ã',
  '–±–∞—Ä—Ö–∞—Ç–Ω–∞—è —Ç—å–º–∞'
];

interface MagicalInputProps {
  value: string;
  onChange: (value: string) => void;
  selectedKeywords: string[];
  onKeywordsChange: (keywords: string[]) => void;
}

export default function MagicalInput({ 
  value, 
  onChange, 
  selectedKeywords, 
  onKeywordsChange 
}: MagicalInputProps) {
  const [isFocused, setIsFocused] = useState(false);

  const toggleKeyword = (keyword: string) => {
    const newKeywords = selectedKeywords.includes(keyword)
      ? selectedKeywords.filter(k => k !== keyword)
      : [...selectedKeywords, keyword];
    onKeywordsChange(newKeywords);
  };

  return (
    <div className="magical-input-container">
      <div className="stone-arch-frame">
        <div className="angel-statue">
          <Sparkles className="angel-light" />
        </div>
        
        <motion.div 
          className="scroll-input-wrapper"
          animate={isFocused ? { scale: 1.02 } : { scale: 1 }}
          transition={{ type: "spring", stiffness: 300 }}
        >
          <Scroll className="scroll-icon" />
          <textarea
            className="ancient-scroll-input"
            value={value}
            onChange={(e) => onChange(e.target.value)}
            onFocus={() => setIsFocused(true)}
            onBlur={() => setIsFocused(false)}
            placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –≤–∏–¥–µ–Ω–∏–µ... –ù–∞–ø—Ä–∏–º–µ—Ä: '–ú—Ä–∞–º–æ—Ä–Ω—ã–π –∞–Ω–¥—Ä–æ–∏–¥ —á–∏—Ç–∞–µ—Ç –∑–≤—ë–∑–¥–Ω—ã–µ —Å–≤–∏—Ç–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –ø–∞—Ä—è—â–µ–π –≤ —Ç—É–º–∞–Ω–Ω–æ—Å—Ç–∏'"
            rows={5}
          />
          <div className="scroll-ends"></div>
        </motion.div>

        <div className="keywords-container">
          <div className="keywords-label">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å—Ç–∏–ª—è:</div>
          <div className="keywords-grid">
            {STYLE_KEYWORDS.map((keyword) => (
              <motion.button
                key={keyword}
                className={`keyword-pill ${selectedKeywords.includes(keyword) ? 'active' : ''}`}
                onClick={() => toggleKeyword(keyword)}
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
              >
                {keyword}
                {selectedKeywords.includes(keyword) && (
                  <motion.div
                    className="glow-effect"
                    layoutId="glow"
                    initial={false}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                  />
                )}
              </motion.button>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
            import { motion } from 'framer-motion';
import { Hourglass, Music, Frame, BookOpen } from 'lucide-react';

interface RitualCircleProps {
  duration: number;
  aspectRatio: string;
  soundtrack: boolean;
  genre: string;
  onParamChange: (param: string, value: any) => void;
  onGenerate: () => void;
  isGenerating: boolean;
}

export default function RitualCircle({
  duration,
  aspectRatio,
  soundtrack,
  genre,
  onParamChange,
  onGenerate,
  isGenerating
}: RitualCircleProps) {
  
  const DURATION_OPTIONS = [10, 25, 45, 60];
  const ASPECT_RATIOS = [
    { value: '9:16', label: '–í–∏—Ç—Ä–∞–∂', icon: 'ü™ü' },
    { value: '1:1', label: '–ó–µ—Ä–∫–∞–ª–æ', icon: 'ü™û' },
    { value: '21:9', label: '–ü–∞–Ω–æ—Ä–∞–º–∞', icon: 'üé¨' }
  ];
  const GENRES = [
    { id: 'gothic-tale', label: '–ì–æ—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–∞–∑–∫–∞', icon: 'üè∞' },
    { id: 'cosmic-elegy', label: '–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —ç–ª–µ–≥–∏—è', icon: 'üåå' },
    { id: 'imperial-ruins', label: '–†—É–∏–Ω—ã –∏–º–ø–µ—Ä–∏–∏', icon: 'ü™¶' },
    { id: 'sacral-symbolism', label: '–°–∞–∫—Ä–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª–∏–∑–º', icon: '‚úùÔ∏è' }
  ];

  return (
    <div className="ritual-circle-container">
      <div className="circle-platform">
        
        {/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–µ—á–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ */}
        <motion.button
          className="central-seal"
          onClick={onGenerate}
          disabled={isGenerating}
          animate={isGenerating ? { rotate: 360 } : {}}
          transition={isGenerating ? { 
            rotate: { 
              duration: 4, 
              repeat: Infinity, 
              ease: "linear" 
            } 
          } : {}}
          whileHover={{ scale: 1.1 }}
          whileTap={{ scale: 0.95 }}
        >
          <div className="seal-inner">
            <div className="seal-symbols">
              {isGenerating ? 'üåÄ' : '‚ö°'}
            </div>
            <div className="seal-text">
              {isGenerating ? '–ü—Ä–æ—è–≤–ª—è–µ—Ç—Å—è...' : '–ù–∞—á–∞—Ç—å —Ä–∏—Ç—É–∞–ª'}
            </div>
          </div>
        </motion.button>

        {/* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ –∫—Ä—É–≥—É */}
        <div className="ritual-parameters">
          
          {/* –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å */}
          <div className="parameter-item" style={{ transform: 'rotate(0deg) translate(140px) rotate(-0deg)' }}>
            <div className="parameter-icon">
              <Hourglass />
            </div>
            <div className="parameter-controls">
              {DURATION_OPTIONS.map((time) => (
                <button
                  key={time}
                  className={`duration-option ${duration === time ? 'active' : ''}`}
                  onClick={() => onParamChange('duration', time)}
                >
                  {time}s
                </button>
              ))}
            </div>
          </div>

          {/* –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω */}
          <div className="parameter-item" style={{ transform: 'rotate(90deg) translate(140px) rotate(-90deg)' }}>
            <div className="parameter-icon">
              <Frame />
            </div>
            <div className="parameter-controls">
              {ASPECT_RATIOS.map((ratio) => (
                <button
                  key={ratio.value}
                  className={`aspect-option ${aspectRatio === ratio.value ? 'active' : ''}`}
                  onClick={() => onParamChange('aspectRatio', ratio.value)}
                  title={ratio.label}
                >
                  {ratio.icon}
                </button>
              ))}
            </div>
          </div>

          {/* –°–∞—É–Ω–¥—Ç—Ä–µ–∫ */}
          <div className="parameter-item" style={{ transform: 'rotate(180deg) translate(140px) rotate(-180deg)' }}>
            <div className="parameter-icon">
              <Music />
            </div>
            <div className="parameter-controls">
              <button
                className={`soundtrack-toggle ${soundtrack ? 'active' : ''}`}
                onClick={() => onParamChange('soundtrack', !soundtrack)}
              >
                {soundtrack ? 'üéµ –í–∫–ª' : 'üîá –í—ã–∫–ª'}
                <div className="toggle-description">–≠–º–±–∏–µ–Ω—Ç-—Å–∏–º—Ñ–æ–Ω–∏—è</div>
              </button>
            </div>
          </div>

          {/* –ñ–∞–Ω—Ä */}
          <div className="parameter-item" style={{ transform: 'rotate(270deg) translate(140px) rotate(-270deg)' }}>
            <div className="parameter-icon">
              <BookOpen />
            </div>
            <div className="parameter-controls">
              <select
                className="genre-select"
                value={genre}
                onChange={(e) => onParamChange('genre', e.target.value)}
              >
                {GENRES.map((g) => (
                  <option key={g.id} value={g.id}>
                    {g.icon} {g.label}
                  </option>
                ))}
              </select>
            </div>
          </div>

        </div>

        {/* –ú–∞–≥–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥ */}
        <div className="magic-circle">
          <div className="circle-layer-1"></div>
          <div className="circle-layer-2"></div>
          <div className="circle-layer-3"></div>
          <div className="astronomical-symbols">
            {['‚ôá', '‚ôÜ', '‚ôÖ', '‚ôÑ', '‚ôÉ', '‚ôÇ', '‚ôÅ', '‚ôÄ', '‚òø'].map((symbol, i) => (
              <span key={i} style={{ transform: `rotate(${i * 40}deg)` }}>
                {symbol}
              </span>
            ))}
          </div>
        </div>

      </div>
    </div>
  );
}
            :root {
  --deep-black: #0B0A10;
  --dark-indigo: #2A1B3D;
  --plum: #4A2545;
  --ghost-purple: #8A2BE2;
  --catacomb-gold: #D4AF37;
  --nebula-blue: #89CFF0;
  --void: #050408;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background-color: var(--deep-black);
  color: #E6E6FA;
  font-family: 'Cinzel', 'Cormorant Garamond', serif;
  overflow: hidden;
  height: 100vh;
}

.app-container {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.cosmic-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.gothic-ornament-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(circle at 20% 80%, transparent 99%, rgba(138, 43, 226, 0.05) 1%),
    radial-gradient(circle at 80% 20%, transparent 99%, rgba(212, 175, 55, 0.05) 1%);
  pointer-events: none;
}

/* –ö–∞–º–µ–Ω–Ω–∞—è –∞—Ä–∫–∞ –∏ —Å–≤–∏—Ç–æ–∫ */
.stone-arch-frame {
  position: relative;
  max-width: 800px;
  margin: 2rem auto;
  padding: 3rem 2rem;
  background: linear-gradient(145deg, 
    rgba(42, 27, 61, 0.9) 0%, 
    rgba(10, 9, 15, 0.95) 100%);
  border: 2px solid var(--catacomb-gold);
  border-radius: 20px;
  box-shadow: 
    0 0 60px rgba(138, 43, 226, 0.3),
    inset 0 0 40px rgba(0, 0, 0, 0.8);
}

.angel-statue {
  position: absolute;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 3rem;
  filter: drop-shadow(0 0 10px var(--catacomb-gold));
}

.angel-light {
  animation: gentle-pulse 4s ease-in-out infinite;
}

.ancient-scroll-input {
  width: 100%;
  background: linear-gradient(to bottom, 
    rgba(212, 175, 55, 0.1) 0%,
    rgba(74, 37, 69, 0.2) 100%);
  border: 1px solid rgba(212, 175, 55, 0.3);
  border-radius: 10px;
  padding: 1.5rem;
  color: #F0E6D6;
  font-size: 1.1rem;
  line-height: 1.6;
  resize: none;
  font-family: inherit;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.ancient-scroll-input:focus {
  outline: none;
  border-color: var(--nebula-blue);
  box-shadow: 
    0 0 30px rgba(137, 207, 240, 0.4),
    inset 0 0 20px rgba(137, 207, 240, 0.1);
}

/* –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ */
.keywords-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0.8rem;
  margin-top: 1.5rem;
}

.keyword-pill {
  position: relative;
  padding: 0.6rem 1.2rem;
  background: rgba(42, 27, 61, 0.7);
  border: 1px solid rgba(138, 43, 226, 0.5);
  border-radius: 25px;
  color: #C9B8E0;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
}

.keyword-pill.active {
  background: rgba(138, 43, 226, 0.2);
  border-color: var(--ghost-purple);
  color: #E6D4FF;
  box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
}

.glow-effect {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, 
    rgba(138, 43, 226, 0.3) 0%,
    transparent 70%);
  z-index: -1;
}

/* –†–∏—Ç—É–∞–ª—å–Ω—ã–π –∫—Ä—É–≥ */
.ritual-circle-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 70vh;
}

.circle-platform {
  position: relative;
  width: 500px;
  height: 500px;
}

.central-seal {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  background: radial-gradient(circle at center,
    var(--catacomb-gold) 0%,
    #B8860B 100%);
  border: 3px solid var(--deep-black);
  border-radius: 50%;
  cursor: pointer;
  z-index: 10;
  box-shadow: 
    0 0 40px rgba(212, 175, 55, 0.8),
    inset 0 0 20px rgba(255, 255, 255, 0.3);
}

.seal-inner {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.seal-symbols {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.seal-text {
  font-size: 0.8rem;
  font-weight: bold;
  color: var(--deep-black);
}

.magic-circle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 400px;
  height: 400px;
  border: 2px solid rgba(137, 207, 240, 0.3);
  border-radius: 50%;
}

.circle-layer-1 {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 1px solid rgba(138, 43, 226, 0.2);
  border-radius: 50%;
  animation: rotate-clockwise 40s linear infinite;
}

.circle-layer-2 {
  position: absolute;
  width: 85%;
  height: 85%;
  top: 7.5%;
  left: 7.5%;
  border: 1px solid rgba(212, 175, 55, 0.2);
  border-radius: 50%;
  animation: rotate-counter 30s linear infinite;
}

.astronomical-symbols {
  position: absolute;
  width: 100%;
  height: 100%;
  animation: rotate-clockwise 60s linear infinite;
}

.astronomical-symbols span {
  position: absolute;
  left: 50%;
  top: -10px;
  transform-origin: 0 210px;
  font-size: 1.5rem;
  color: rgba(137, 207, 240, 0.7);
}

/* –ì–æ—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ */
.gothic-button {
  padding: 1rem 2rem;
  background: linear-gradient(145deg, 
    rgba(74, 37, 69, 0.9) 0%,
    rgba(42, 27, 61, 0.9) 100%);
  border: 2px solid var(--catacomb-gold);
  border-radius: 10px;
  color: #F0E6D6;
  font-family: inherit;
  font-size: 1.1rem;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.gothic-button:hover {
  background: linear-gradient(145deg, 
    rgba(138, 43, 226, 0.2) 0%,
    rgba(74, 37, 69, 0.9) 100%);
  border-color: var(--nebula-blue);
  box-shadow: 
    0 0 25px rgba(137, 207, 240, 0.4),
    inset 0 0 15px rgba(137, 207, 240, 0.1);
}

.gothic-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.2), 
    transparent);
  transition: left 0.6s ease;
}

.gothic-button:hover::before {
  left: 100%;
}

/* –ó–∞–ª –≤–∏–¥–µ–Ω–∏–π - –≤–∏—Ç—Ä–∞–∂–∏ */
.stained-glass-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  padding: 2rem;
}

.stained-glass-item {
  position: relative;
  height: 400px;
  border-radius: 15px;
  overflow: hidden;
  border: 3px solid rgba(212, 175, 55, 0.3);
  background: linear-gradient(45deg, 
    rgba(138, 43, 226, 0.1),
    rgba(137, 207, 240, 0.1));
  backdrop-filter: blur(10px);
  transition: all 0.4s ease;
}

.stained-glass-item:hover {
  transform: translateY(-10px) scale(1.02);
  border-color: var(--ghost-purple);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.5),
    0 0 60px rgba(138, 43, 226, 0.4);
}

.glass-pattern {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(45deg, transparent 30%, rgba(212, 175, 55, 0.1) 50%, transparent 70%),
    linear-gradient(-45deg, transparent 30%, rgba(137, 207, 240, 0.1) 50%, transparent 70%);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes gentle-pulse {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

@keyframes rotate-clockwise {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes rotate-counter {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

@keyframes star-drift {
  from { transform: translateX(-100%) translateY(-100%); }
  to { transform: translateX(100%) translateY(100%); }
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .stone-arch-frame {
    margin: 1rem;
    padding: 2rem 1rem;
  }
  
  .circle-platform {
    width: 350px;
    height: 350px;
  }
  
  .ritual-parameters {
    transform: scale(0.8);
  }
}

/* –°–∫—Ä–æ–ª–ª–±–∞—Ä –≤ —Å—Ç–∏–ª–µ */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(42, 27, 61, 0.5);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, 
    var(--ghost-purple), 
    var(--nebula-blue));
  border-radius: 4px;
}
            import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
}
